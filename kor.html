<!DOCTYPE html>
<html>

<head>
        <link href="https://fonts.googleapis.com/css?family=Nanum+Pen+Script&display=swap" rel="stylesheet">
        <style>
		body {
            font-family: 'Nanum Pen Script', cursive;
			font-size: 22px;
		}
	</style>

	<meta charset="UTF-8" name="viewport"
		content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=0, user-scalable=no, target-densitydpi=medium-dpi" />
	<!--모바일페이지크기조절메타태그-->
	<title>Secret Hitler Helper</title>
</head>

<body>

	
	<h1>플레이어 수 : <span id="player_number_h1">5</span></h1>
	
	<!--
	<img src="5.png" id="btn_player_5" style="width: auto; height: auto;" onclick="set_number_of_players(5)" />
	<img src="6.png" id="btn_player_6" style="width: auto; height: auto;" onclick="set_number_of_players(6)" />
	<img src="7.png" id="btn_player_7" style="width: auto; height: auto;" onclick="set_number_of_players(7)" />
	<img src="8.png" id="btn_player_8" style="width: auto; height: auto;" onclick="set_number_of_players(8)" />
	<img src="9.png" id="btn_player_9" style="width: auto; height: auto;" onclick="set_number_of_players(9)" />
	<img src="10.png" id="btn_player_10" style="width: auto; height: auto;" onclick="set_number_of_players(10)" /> <br>-->

	<!--<p style="font-size: 200%">
	We have <input type="button" id="remain_card_number" value="17" style="font-size:100%" /> policy cards.
	</p> <br>-->

	<h1> 
	<!--<img src="17.png" id="remain_card_number_img" style="width: auto; height: auto;" />-->
	<span id="remain_card_number_h1">17</span>장의 정책 카드가 남아있습니다.</h1>

	<h1 style="color:blue">자유민주주의 트랙<br>

	<img src="liberal.png" id="track_liberal_0" style="width: 13%; height: auto; visibility: hidden;" />
	<img src="liberal.png" id="track_liberal_1" style="width: 13%; height: auto; visibility: hidden" />
	<img src="liberal.png" id="track_liberal_2" style="width: 13%; height: auto; visibility: hidden" />
	<img src="liberal.png" id="track_liberal_3" style="width: 13%; height: auto; visibility: hidden" />
	<img src="liberal.png" id="track_liberal_4" style="width: 13%; height: auto; visibility: hidden" /> </h1>

	<h1 style="color:red"> 파시스트 트랙 
        <br>
        <span style="font-size: 60%;">(다음 행정 조치 : <span id="h1_executions"></span>)<br>
	<!--<img src="fascist_track.png" style="width: auto; height: auto; visibility: hidden;" id="img_executions" /> <br>-->
	<img src="fascist.png" id="track_fascist_0" style="width: 13%; height: auto; visibility: hidden" />
	<img src="fascist.png" id="track_fascist_1" style="width: 13%; height: auto; visibility: hidden" />
	<img src="fascist.png" id="track_fascist_2" style="width: 13%; height: auto; visibility: hidden" />
	<img src="fascist.png" id="track_fascist_3" style="width: 13%; height: auto; visibility: hidden" />
	<img src="fascist.png" id="track_fascist_4" style="width: 13%; height: auto; visibility: hidden" />
	<img src="fascist.png" id="track_fascist_5" style="width: 13%; height: auto; visibility: hidden" /> </span></h1>
    <h1> 
		<span id="h1_blue_cards">0</span>개의 자유민주주의 정책과
		<!--<img src="0.png" style="width: auto; height: auto;" id="img_btn_blue_cards" />--></h1>
	<h1>
			<span id="h1_red_cards">0</span>개의 파시스트 정책이 발효되었습니다.
		<!--<img src="0.png" style="width: auto; height: auto;" id="img_btn_red_cards" />-->
	</h1>
	
	<p style="font-size: 200%">
        <input type="button" id="btn_policy" value=" 정책 수립 단계 " 
        style="font-size:100%;     background-color: #000; border: none;
        font-family: 'Nanum Pen Script', cursive;
        color:#fff;
        padding: 15px 0;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        margin: 4px;
        cursor: pointer;"
			onClick="func_policy()" /></p>
	<h2 id="h1_command"></h2>
	<!--<img id="img_command" style="width: auto; height: auto; visibility: hidden" /><br>-->
	<img id="btn_cand_card_0" style="width: 30%; height: auto;" onClick="func_cand_card(0);" />
	<img id="btn_cand_card_1" style="width: 30%; height: auto;" onClick="func_cand_card(1);" />
	<img id="btn_cand_card_2" style="width: 30%; height: auto;" onClick="func_cand_card(2);" />
</body>

<script>

	var temp_players=prompt("참가 인원수를 선택해 주세요.")
	m_number_of_player = Math.floor((temp_players - 5) / 2);
	document.getElementById("player_number_h1").innerHTML=temp_players

	
	var arr_executives = new Array(new Array(5), new Array(5), new Array(5));
	arr_executives[0][0] = arr_executives[0][1] = 'nothing.png';
	arr_executives[0][2] = 'policy_peek.png';
	arr_executives[0][3] = 'execution.png';
	arr_executives[0][4] = 'veto_power.png';

	arr_executives[1][0] = 'nothing.png';
	arr_executives[1][1] = 'investigate_loyalty.png';
	arr_executives[1][2] = 'call_speacial.png';
	arr_executives[1][3] = 'execution.png';
	arr_executives[1][4] = 'veto_power.png';

	arr_executives[2][0] = 'investigate_loyalty.png';
	arr_executives[2][1] = 'investigate_loyalty.png';
	arr_executives[2][2] = 'call_speacial.png';
	arr_executives[2][3] = 'execution.png';
	arr_executives[2][4] = 'veto_power.png';

	var arr_executives_h1 = new Array(new Array(5), new Array(5), new Array(5));

	arr_executives_h1[0][0] = arr_executives_h1[0][1] = '없음';
	arr_executives_h1[0][2] = '정책 확인';
	arr_executives_h1[0][3] = '암살';
	arr_executives_h1[0][4] = '암살, 거부권 가능';
    arr_executives_h1[0][5] = '파시스트 승리';

	arr_executives_h1[1][0] = '없음';
	arr_executives_h1[1][1] = '진형 확인';
	arr_executives_h1[1][2] = '특별 선거';
	arr_executives_h1[1][3] = '암살';
	arr_executives_h1[1][4] = '암살, 거부권 가능';
    arr_executives_h1[1][5] = '파시스트 승리';

	arr_executives_h1[2][0] = '진형 확인';
	arr_executives_h1[2][1] = '진형 확인';
	arr_executives_h1[2][2] = '특별 선거';
	arr_executives_h1[2][3] = '암살';
	arr_executives_h1[2][4] = '암살, 거부권 가능';
    arr_executives_h1[2][5] = '파시스트 승리';

	//document.getElementById('img_executions').src = arr_executives[m_number_of_player][0];
	document.getElementById('h1_executions').innerHTML=arr_executives_h1[m_number_of_player][0];
	//document.getElementById('img_executions').style.visibility = "visible";



	var number_of_red_cards = 0;
	var number_of_blud_cards = 0;
	var arr_liberal_track = new Array();
	var arr_fascist_track = new Array();

	arr_liberal_track[0] = 'track_liberal_0';
	arr_liberal_track[1] = 'track_liberal_1';
	arr_liberal_track[2] = 'track_liberal_2';
	arr_liberal_track[3] = 'track_liberal_3';
	arr_liberal_track[4] = 'track_liberal_4';

	arr_fascist_track[0] = 'track_fascist_0';
	arr_fascist_track[1] = 'track_fascist_1';
	arr_fascist_track[2] = 'track_fascist_2';
	arr_fascist_track[3] = 'track_fascist_3';
	arr_fascist_track[4] = 'track_fascist_4';
	arr_fascist_track[5] = 'track_fascist_5';

	var arr_numbers = new Array();
	arr_numbers[0] = '0.png';
	arr_numbers[1] = '1.png';
	arr_numbers[2] = '2.png';
	arr_numbers[3] = '3.png';
	arr_numbers[4] = '4.png';
	arr_numbers[5] = '5.png';
	arr_numbers[6] = '6.png';
	arr_numbers[7] = '7.png';
	arr_numbers[8] = '8.png';
	arr_numbers[9] = '9.png';
	arr_numbers[10] = '10.png';
	arr_numbers[11] = '11.png';
	arr_numbers[12] = '12.png';
	arr_numbers[13] = '13.png';
	arr_numbers[14] = '14.png';
	arr_numbers[15] = '15.png';
	arr_numbers[16] = '16.png';
	arr_numbers[17] = '17.png';

	var m_count = 3;
	var m_remain_cards = 17;
	var used_cards = new Array();
	for (var i = 0; i < 17; i++) {
		used_cards[i] = 0;
	}

	var removed_cards = new Array();
	for (var i = 0; i < 17; i++) {
		removed_cards[i] = 0;
	}

	var arr_ids = new Array();

	var arr_btn_cand_card = new Array();
	arr_btn_cand_card[0] = 'btn_cand_card_0';
	arr_btn_cand_card[1] = 'btn_cand_card_1';
	arr_btn_cand_card[2] = 'btn_cand_card_2';

	for (var i = 0; i < 3; i++) {
		document.getElementById(arr_btn_cand_card[i]).style.visibility = 'hidden';
	}

	// function set_number_of_players(x) {

	// 	alert("pused")

	// 	var arr_temp = new Array();
	// 	arr_temp[0] = 'btn_player_5';
	// 	arr_temp[1] = 'btn_player_6';
	// 	arr_temp[2] = 'btn_player_7';
	// 	arr_temp[3] = 'btn_player_8';
	// 	arr_temp[4] = 'btn_player_9';
	// 	arr_temp[5] = 'btn_player_10';
	// 	m_number_of_player = Math.floor((x - 5) / 2);
	// 	for (var index = 0; index < 6; index++) {
	// 		if (x - 5 != index) {
	// 			document.getElementById(arr_temp[index]).style.display = "none";
	// 		}
	// 	}
	// 	document.getElementById('img_executions').src = arr_executives[m_number_of_player][0];
	// 	document.getElementById('img_executions').style.visibility = "visible";
	// }

	function func_policy() {
		if (m_number_of_player < 0) {
			alert("Select the number of players!");
			return;
		}
		if (m_count != 3) {
			alert("정책 카드를 선택해 주세요!");
			return;

		}
		if (number_of_red_cards >= 3) {
			alert("수상이 히틀러인지 확인해 주세요!")
		}
		if (m_remain_cards < 3) {
			m_remain_cards = 0;
			alert("버러진 카드를 섞습니다.");

			for (var i = 0; i < 17; i++) {
				if (removed_cards[i] == 0) {
					used_cards[i] = 0;
					m_remain_cards++;
				}
			}
			//			alert(m_remain_cards);

			//			document.getElementById('remain_card_number').value = String(m_remain_cards);
			//			alert(m_remain_cards);

			//document.getElementById('remain_card_number_img').src = arr_numbers[m_remain_cards];
			document.getElementById("remain_card_number_h1").innerHTML=m_remain_cards;
			


		}

		alert("대통령 혼자 확인해 주세요!")

		//document.getElementById('img_command').style.visibility = 'visible';
		//document.getElementById('img_command').src = 'select_discarded_card.png';
		document.getElementById('h1_command').innerHTML = '버릴 카드를 한장 선택해 주세요.';


		for (var i = 0; i < 3; i++) {
			document.getElementById(arr_btn_cand_card[i]).style.visibility = 'visible';
		}
		//		alert("here");

		for (var i = 0; i < 3; i++) {
			var m_gen = Math.floor(Math.random() * (17));
			while (used_cards[m_gen] == 1) {
				m_gen = Math.floor(Math.random() * (17));
			}
			used_cards[m_gen] = 1;
			arr_ids[i] = m_gen;

			if (m_gen < 6) // blue cards
			{
				document.getElementById(arr_btn_cand_card[i]).src = 'liberal.png';
			} else {
				document.getElementById(arr_btn_cand_card[i]).src = 'fascist.png';
			}
		}
		//		alert("hi");

		//alert("used_cards:\n0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16\n"+
		//used_cards[0]+" "+
		//used_cards[1]+" "+
		//used_cards[2]+" "+
		//used_cards[3]+" "+
		//used_cards[4]+" "+
		//used_cards[5]+" "+
		//used_cards[6]+" "+
		//used_cards[7]+" "+
		//used_cards[8]+" "+
		//used_cards[9]+" "+
		//used_cards[10]+"  "+
		//used_cards[11]+"  "+
		//used_cards[12]+"  "+
		//used_cards[13]+"  "+
		//used_cards[14]+"  "+
		//used_cards[15]+"  "+
		//used_cards[16]
		//);
		m_remain_cards = m_remain_cards - 3;

		//alert(arr_ids[0]+","+arr_ids[1]+","+arr_ids[2]);
	}

	function func_announce_result() {
		//		alert(arr_ids[0]+","+arr_ids[1]+","+arr_ids[2]);
		for (var i = 0; i < 3; i++) {
			if (arr_ids[i] != -1) {
				document.getElementById(arr_btn_cand_card[i]).style.visibility = 'hidden';

				if (arr_ids[i] < 6) {
					//						alert("li");
					// var temp = Number(document
					// 		.getElementById('btn_blue_cards').value);
					// document.getElementById('btn_blue_cards').value = String(temp + 1);
					//						alert("temp:"+temp);
					document.getElementById(arr_liberal_track[number_of_blud_cards]).style.visibility = 'visible';
					number_of_blud_cards++;

//					document.getElementById('img_btn_blue_cards').src = arr_numbers[number_of_blud_cards];
					document.getElementById('h1_blue_cards').innerHTML = number_of_blud_cards;


					alert("자유민주주의 정책이 발효되었습니다.");

					if (number_of_blud_cards == 5) {
						alert("자유민주주의 진형이 승리하였습니다!")
					}

				} else {
					//						alert("fa");
					//						alert("temp:"+temp);
					//						alert(arr_fascist_track[temp]);
					document.getElementById(arr_fascist_track[number_of_red_cards]).style.visibility = 'visible';
					number_of_red_cards++;

//					document.getElementById('img_btn_red_cards').src = arr_numbers[number_of_red_cards];
					document.getElementById('h1_red_cards').innerHTML = number_of_red_cards;

					alert("파시스트 정책이 발효되었습니다.");

//					document.getElementById('img_executions').src = arr_executives[m_number_of_player][number_of_red_cards];
					document.getElementById('h1_executions').innerHTML=arr_executives_h1[m_number_of_player][number_of_red_cards];

					if (number_of_red_cards == 6) {
						alert("파시스트 진형이 승리하였습니다!")
					}
				}

				//					alert(i);

				// var temp = m_remain_cards;
				//Number(document
				//		.getElementById('remain_card_number').value);
				//document.getElementById('remain_card_number').value = String(temp -3);
				//document.getElementById('remain_card_number_img').src = arr_numbers[m_remain_cards];
				document.getElementById("remain_card_number_h1").innerHTML=m_remain_cards;


				removed_cards[arr_ids[i]] = 1;


				break;
			}
		}
		//document.getElementById('img_command').style.visibility = 'hidden';
		document.getElementById('h1_command').innerHTML = '';
		m_count = 3;

	}
	function func_cand_card(x) {
		if (m_count == 1) {
			func_announce_result();
			return;
		}
		document.getElementById(arr_btn_cand_card[x]).style.visibility = 'hidden';
		arr_ids[x] = -1;
		//		alert(arr_ids[0]+","+arr_ids[1]+","+arr_ids[2]);
		m_count = m_count - 1;

		if (m_count == 1) {
			//document.getElementById('img_command').src = 'select_enacted_card.png';
			document.getElementById('h1_command').innerHTML = '발효될 카드를 선택해 주세요!';
		}

	}
</script>

</html>